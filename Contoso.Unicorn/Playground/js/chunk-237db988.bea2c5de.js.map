{"version":3,"sources":["webpack:///./src/views/Pdf.vue?d097","webpack:///./src/core/async-lock.ts","webpack:///./src/core/oauth.ts","webpack:///./api/createDriveFile.ts","webpack:///./src/views/Pdf.vue","webpack:///./src/core/pdf.ts","webpack:///./src/views/Pdf/ToolBar.vue?56d7","webpack:///./src/views/Pdf/ToolBar.vue","webpack:///./src/views/Pdf/ToolBar.vue?f548","webpack:///./src/views/Pdf/ToolBar.vue?93f3","webpack:///./src/views/Pdf.vue?1359","webpack:///./src/views/Pdf.vue?811c","webpack:///./src/views/Pdf/ToolBar.vue?a4d3","webpack:///./src/views/Pdf.vue?4236"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","handleMouseDown","handleMouseUp","ref","staticRenderFns","_waiters","Promise","resolve","push","timeout","gapiUrl","formatUser","guser","getBasicProfile","profile","id","getId","name","getName","firstName","getGivenName","lastName","getFamilyName","avatarUrl","getImageUrl","email","getEmail","config","_locker","_config","window","gapi","reject","script","document","createElement","src","limit","setTimeout","remove","Error","head","appendChild","onload","clearTimeout","lib","load","then","callback","onerror","err","message","ontimeout","libraryLoad","library","init","response","libraryInit","auth","isSignedIn","get","currentUser","error","signIn","disconnect","authResponse","getAuthResponse","Date","expires_at","lock","reloadAuthResponse","unlock","access_token","gApiConfig","discoveryDocs","clientId","scope","metadata","base64Content","query","stringify","supportsAllDrives","supportsTeamDrives","uploadType","addQueryPrefix","encodeValuesOnly","url","boundary","requestBody","JSON","mimeType","oauth","getAccessToken","Authorization","options","method","body","headers","fetch","status","text","json","result","debouncedGenerate","configuration","pdfMake","createPdf","documentDefinition","folderId","fileName","getBlob","blob","getBase64","data","getBuffer","getDataUrl","dataUrl","open","print","parents","createDriveFile","scopedSlots","_u","key","fn","_g","prettifyDoc","_v","extend","components","AppTile","methods","$store","dispatch","component","editor","computed","pdfState","state","pdf","doc","watch","newValue","cur","getCursor","setValue","setCursor","mounted","fromTextArea","$refs","root","lineNumbers","matchBrackets","dragDrop","autoCloseBrackets","autofocus","theme","mode","extraKeys","F11","cm","setOption","getOption","Esc","showHint","completeSingle","container","wrapper","trim","setSize","_cm","commit","getValue","handleChange","WindowFrame","Splitpanes","Pane","ToolBar","indexOf","iframe","undefined","debounce","v","parse","app"],"mappings":"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","file":"js/chunk-237db988.bea2c5de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WindowFrame',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"ma-0\":\"\",\"pa-0\":\"\"}},[_c('splitpanes',{staticClass:\"default-theme\",on:{\"resize\":_vm.handleMouseDown,\"resized\":_vm.handleMouseUp}},[_c('pane',{attrs:{\"size\":50}},[_c('textarea',{ref:\"root\",staticClass:\"d-none\"})]),_c('pane',{attrs:{\"size\":50}},[_c('iframe',{ref:\"iframe\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"frameborder\":\"0\"}})])],1)],1),_c('portal',{staticClass:\"portal\",attrs:{\"to\":\"app-bar\"}},[_c('tool-bar')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class AsyncLock {\r\n    // Semaphore ; counter = 1\r\n    private _waiters: (() => void)[] | null = null;\r\n\r\n    public lock(): Promise<void> {\r\n        return new Promise((resolve): void => {\r\n            if (!this._waiters) {\r\n                // First\r\n                this._waiters = [];\r\n                resolve();\r\n            } else {\r\n                this._waiters.push(resolve);\r\n            }\r\n        });\r\n    }\r\n\r\n    public unlock(): void {\r\n        if (this._waiters) for (const resolve of this._waiters) resolve();\r\n\r\n        this._waiters = null;\r\n    }\r\n}\r\n","import AsyncLocker from './async-lock';\r\n\r\nconst timeout = 5000;\r\nconst gapiUrl = 'https://apis.google.com/js/api.js';\r\n\r\nexport interface UserProfile {\r\n    id: string;\r\n    name: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    avatarUrl: string;\r\n    email: string;\r\n}\r\n\r\ninterface GapiConfiguration {\r\n    clientId: string;\r\n    apiKey?: string;\r\n    discoveryDocs: string[];\r\n    scope: string;\r\n}\r\n\r\n/**\r\n * Format User Profile to something readable\r\n *\r\n * @param {*} guser\r\n * @returns {(UserProfile | null)}\r\n */\r\nfunction formatUser(guser): UserProfile | null {\r\n    if (!guser.getBasicProfile) return null;\r\n    const profile = guser.getBasicProfile();\r\n    return {\r\n        id: profile.getId(),\r\n        name: profile.getName(),\r\n        firstName: profile.getGivenName(),\r\n        lastName: profile.getFamilyName(),\r\n        avatarUrl: profile.getImageUrl(),\r\n        email: profile.getEmail(),\r\n    };\r\n}\r\n\r\nclass Gapi {\r\n    private _config: GapiConfiguration;\r\n\r\n    private _locker = new AsyncLocker();\r\n\r\n    constructor(config: GapiConfiguration) {\r\n        this._config = config;\r\n    }\r\n\r\n    // eslint-disable-next-line class-methods-use-this\r\n    private load(): Promise<any> {\r\n        if (window.gapi) return Promise.resolve(window.gapi);\r\n        return new Promise((resolve, reject) => {\r\n            const script = document.createElement('script');\r\n            script.src = gapiUrl;\r\n            const limit = setTimeout(() => {\r\n                script.remove();\r\n                reject(new Error('gapi load timeout.'));\r\n            }, timeout);\r\n            document.head.appendChild(script);\r\n\r\n            script.onload = (): void => {\r\n                clearTimeout(limit);\r\n                if (!window.gapi) reject(new Error('gapi load error.'));\r\n                resolve(window.gapi);\r\n            };\r\n        });\r\n    }\r\n\r\n    /** Exposes a gapi library object, loading it if it hasn't been done */\r\n    private libraryLoad(lib: string): Promise<any> {\r\n        return this.load().then((gapi) => {\r\n            if (gapi[lib]) return Promise.resolve(gapi[lib]);\r\n            return new Promise((resolve, reject) => {\r\n                gapi.load(lib, {\r\n                    timeout,\r\n                    callback: () => {\r\n                        resolve(gapi[lib]);\r\n                    },\r\n                    onerror: (err) => {\r\n                        reject(new Error(`Error on gapi ${lib} load: ${err.message}`));\r\n                    },\r\n                    ontimeout: () => {\r\n                        reject(new Error(`Error on gapi ${lib} load: timeout`));\r\n                    },\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    /** Initialize a gapi library object with config before each API call.\r\n     *  Return the library object through a Promise. */\r\n    private async libraryInit(lib: string): Promise<any> {\r\n        const library = await this.libraryLoad(lib);\r\n\r\n        return library.init(this._config).then(\r\n            (response) => {\r\n                // if auth2, returns the google auth object, the library otherwise\r\n                return Promise.resolve(lib === 'auth2' ? response : library);\r\n            },\r\n            () => {\r\n                return Promise.reject(new Error(`Error on gapi ${lib} init.`));\r\n            }\r\n        );\r\n    }\r\n\r\n    /** returns asynchronously true if the user is signed in */\r\n    public async isSignedIn(): Promise<boolean> {\r\n        const auth = await this.libraryInit('auth2');\r\n        return auth.isSignedIn.get();\r\n    }\r\n\r\n    /** returns the current user if signed in, undefined otherwise */\r\n    public async getCurrentUserProfile(): Promise<UserProfile | null> {\r\n        try {\r\n            const auth = await this.libraryInit('auth2');\r\n\r\n            if (auth.isSignedIn.get()) {\r\n                return formatUser(auth.currentUser.get());\r\n            }\r\n            return null;\r\n        } catch (error) {\r\n            error.message = error.message || error.error;\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /** Starts the signin process - returns a promise resolved with the user if\r\n     *  signin successfull, or rejected otherwise */\r\n    public async signIn(): Promise<UserProfile | null> {\r\n        try {\r\n            const auth = await this.libraryInit('auth2');\r\n\r\n            if (auth.isSignedIn.get()) {\r\n                return formatUser(auth.currentUser.get());\r\n            }\r\n\r\n            const guser = await auth.signIn();\r\n            return formatUser(guser);\r\n        } catch (error) {\r\n            error.message = error.message || error.error;\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /** Disconnects the current user */\r\n    public async signOut(): Promise<void> {\r\n        try {\r\n            const auth = await this.libraryInit('auth2');\r\n            if (auth.isSignedIn.get()) {\r\n                auth.disconnect();\r\n            }\r\n        } catch (error) {\r\n            error.message = error.message || error.error;\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    public async getAccessToken(): Promise<string | null> {\r\n        const auth = await this.libraryInit('auth2');\r\n\r\n        if (auth.isSignedIn.get()) {\r\n            let authResponse = auth.currentUser.get().getAuthResponse();\r\n\r\n            // If expire\r\n            if (new Date(authResponse.expires_at - 1000 * 60) <= new Date()) {\r\n                try {\r\n                    await this._locker.lock();\r\n                    // Check again\r\n                    authResponse = auth.currentUser.get().getAuthResponse();\r\n                    if (new Date(authResponse.expires_at - 1000 * 60) <= new Date()) {\r\n                        await auth.currentUser.get().reloadAuthResponse();\r\n                    }\r\n                } finally {\r\n                    this._locker.unlock();\r\n                }\r\n            }\r\n\r\n            authResponse = auth.currentUser.get().getAuthResponse();\r\n            return authResponse.access_token;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nconst gApiConfig: GapiConfiguration = {\r\n    discoveryDocs: ['https://people.googleapis.com/$discovery/rest'],\r\n    clientId: '904796907236-ngv4pq5g9lq9b884cfudlhm27i9oj2u0.apps.googleusercontent.com',\r\n    scope:\r\n        'https://www.googleapis.com/auth/script.send_mail https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/script.external_request https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/userinfo.email',\r\n};\r\n\r\nexport default new Gapi(gApiConfig);\r\n","import qs from 'qs';\r\nimport oauth from '@/core/oauth';\r\n\r\n/**\r\n * Create drive file.\r\n *\r\n * @export\r\n * @param {string} fileId\r\n * @returns {Promise<Response>}\r\n */\r\nexport default async function (\r\n    metadata: { name: string | undefined; mimeType: string; parents: string[] },\r\n    base64Content: string\r\n): Promise<any> {\r\n    const query = qs.stringify(\r\n        {\r\n            supportsAllDrives: true,\r\n            supportsTeamDrives: true,\r\n            uploadType: 'multipart',\r\n        },\r\n        { addQueryPrefix: true, encodeValuesOnly: true }\r\n    );\r\n    const url = `https://www.googleapis.com/upload/drive/v3/files${query}`;\r\n\r\n    const boundary = '--cpmp3vn';\r\n    let requestBody = `--${boundary}\\n`;\r\n    requestBody += 'Content-Type: application/json; charset=UTF-8\\n\\n';\r\n    requestBody += `${JSON.stringify(metadata)}\\n`;\r\n    requestBody += `--${boundary}\\n`;\r\n    requestBody += `Content-Type: ${metadata.mimeType}\\n`;\r\n    requestBody += 'Content-Transfer-Encoding: base64\\n\\n';\r\n    requestBody += `${base64Content}\\n`;\r\n    requestBody += `--${boundary}--`;\r\n\r\n    const options = {\r\n        method: 'post',\r\n        body: requestBody,\r\n        headers: {\r\n            Authorization: `Bearer ${await oauth.getAccessToken()}`,\r\n            'Content-Type': `multipart/related; boundary=${boundary}`,\r\n        },\r\n    };\r\n    const response = await fetch(url, options);\r\n\r\n    if (response.status === 403) {\r\n        throw new Error(\"Your account doesn't have permission to create drive file\");\r\n    }\r\n\r\n    if (response.status !== 200) {\r\n        throw new Error(await response.text());\r\n    }\r\n    const result = await response.json();\r\n    return result;\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport WindowFrame from '@/components/layout/WindowFrame.vue';\r\nimport PdfApp, { TDocumentDefinitions } from '@/core/pdf';\r\nimport { codeMirror } from '@/plugins/codemirror';\r\nimport { EditorFromTextArea } from 'codemirror';\r\nimport { Splitpanes, Pane } from 'splitpanes';\r\nimport _ from 'lodash';\r\nimport json5 from 'json5';\r\nimport { PdfState } from '@/store/modules/pdf';\r\nimport ToolBar from './Pdf/ToolBar.vue';\r\n// import { js_beautify as jsBeautify } from 'js-beautify';\r\n\r\nlet debouncedGenerate;\r\n\r\nexport default Vue.extend({\r\n    data(): {\r\n        editor: EditorFromTextArea | null;\r\n        src: string;\r\n    } {\r\n        return {\r\n            editor: null,\r\n            src: '',\r\n        };\r\n    },\r\n    computed: {\r\n        pdfState(): PdfState {\r\n            return this.$store.state.pdf as PdfState;\r\n        },\r\n        doc(): string {\r\n            return this.pdfState.doc;\r\n        },\r\n    },\r\n    watch: {\r\n        doc(newValue): void {\r\n            if (!this.editor) return;\r\n            const cur = this.editor.getCursor();\r\n            this.editor.setValue(newValue);\r\n            this.editor.setCursor(cur);\r\n        },\r\n    },\r\n    mounted() {\r\n        this.editor = codeMirror.fromTextArea(this.$refs.root as HTMLTextAreaElement, {\r\n            lineNumbers: true,\r\n            matchBrackets: true,\r\n            dragDrop: true,\r\n            autoCloseBrackets: true,\r\n            autofocus: true,\r\n            theme: 'neo',\r\n            mode: 'javascript',\r\n            extraKeys: {\r\n                F11: (cm): void => {\r\n                    cm.setOption('fullScreen', !cm.getOption('fullScreen'));\r\n                },\r\n                Esc: (cm): void => {\r\n                    if (cm.getOption('fullScreen')) cm.setOption('fullScreen', false);\r\n                },\r\n                'Ctrl-Space': (): void => {\r\n                    (this.editor as any).showHint({\r\n                        completeSingle: true,\r\n                        container: this.$refs.wrapper as HTMLTextAreaElement,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        this.editor.setValue(\r\n            this.doc.trim() ||\r\n                `{\r\n    content: [\r\n\r\n    ],\r\n    defaultStyle: {\r\n        fontSize: 14,\r\n    }\r\n}`\r\n        );\r\n        this.editor.setSize('100%', '100%');\r\n        this.editor.on('change', (_cm) => {\r\n            this.$store.commit('pdf/setDoc', _cm.getValue());\r\n            this.handleChange();\r\n        });\r\n    },\r\n    components: {\r\n        WindowFrame,\r\n        Splitpanes,\r\n        Pane,\r\n        ToolBar,\r\n    },\r\n    methods: {\r\n        handleMouseDown(): void {\r\n            if (this.src.indexOf('application/pdf') === -1) {\r\n                this.src = (this.$refs.iframe as HTMLIFrameElement).src;\r\n            }\r\n            (this.$refs.iframe as HTMLIFrameElement).src = '';\r\n        },\r\n        handleMouseUp(): void {\r\n            if (this.src.indexOf('application/pdf') > -1) {\r\n                (this.$refs.iframe as HTMLIFrameElement).src = this.src;\r\n            }\r\n        },\r\n        handleChange(): void {\r\n            if (debouncedGenerate === undefined) {\r\n                debouncedGenerate = _.debounce(async (v) => {\r\n                    let json: TDocumentDefinitions | null = null;\r\n                    try {\r\n                        json = json5.parse(v) as TDocumentDefinitions;\r\n                        if (json) {\r\n                            const app = new PdfApp({\r\n                                fileName: '',\r\n                                documentDefinition: json,\r\n                                folderId: '',\r\n                            });\r\n                            const dataUrl = await app.getDataUrl();\r\n                            (this.$refs.iframe as HTMLIFrameElement).src = dataUrl;\r\n                        }\r\n                        // eslint-disable-next-line no-empty\r\n                    } catch (_err) {}\r\n                }, 800);\r\n            }\r\n            if (this.doc) debouncedGenerate(this.doc);\r\n        },\r\n    },\r\n});\r\n","import createDriveFile from '@api/createDriveFile';\r\n\r\ndeclare let pdfMake: any;\r\n\r\n/**\r\n * PDF App Helper\r\n *\r\n * @export\r\n * @class\r\n * Usage:\r\n * const htmlTemplate = `<div>Hello world!</div>`\r\n * const client = new PdfApp({\r\n *    folderId: 'folder ID',\r\n *    htmlBody: template,\r\n *    fileName: 'fileName.pdf',\r\n * });\r\n * const response = await client.create();\r\n *\r\n * Links:\r\n * HTML to PDFMake convertor: https://aymkdn.github.io/html-to-pdfmake/index.html\r\n * PDFMake Manual: https://pdfmake.github.io/docs/\r\n */\r\n\r\nexport default class {\r\n    private document: TCreatedPdf;\r\n\r\n    private folderId: string;\r\n\r\n    private fileName?: string;\r\n\r\n    constructor(configuration: PdfMakeConfiguration) {\r\n        this.document = pdfMake.createPdf(configuration.documentDefinition);\r\n        this.folderId = configuration.folderId;\r\n        this.fileName = configuration.fileName;\r\n    }\r\n\r\n    async getBlob(): Promise<Blob> {\r\n        return new Promise((resolve) => {\r\n            this.document.getBlob((blob) => {\r\n                resolve(blob);\r\n            });\r\n        });\r\n    }\r\n\r\n    async getBase64(): Promise<string> {\r\n        return new Promise((resolve) => {\r\n            this.document.getBase64((data) => {\r\n                resolve(data);\r\n            });\r\n        });\r\n    }\r\n\r\n    async getBuffer(): Promise<any> {\r\n        return new Promise((resolve) => {\r\n            this.document.getBuffer((data) => {\r\n                resolve(data);\r\n            });\r\n        });\r\n    }\r\n\r\n    async getDataUrl(): Promise<any> {\r\n        return new Promise((resolve) => {\r\n            this.document.getDataUrl((dataUrl) => {\r\n                resolve(dataUrl);\r\n            });\r\n        });\r\n    }\r\n\r\n    open(): void {\r\n        this.document.open();\r\n    }\r\n\r\n    print(): void {\r\n        this.document.print();\r\n    }\r\n\r\n    async create(): Promise<any> {\r\n        if (!this.folderId) {\r\n            throw new Error(\r\n                'Please provide folder Id to save PDF (Vui lòng cung cấp Folder Id lưu file PDF trên Google Drive)'\r\n            );\r\n        }\r\n        const data = await this.getBase64();\r\n        const metadata = {\r\n            name: this.fileName,\r\n            mimeType: 'application/pdf',\r\n            parents: [this.folderId],\r\n        };\r\n        const response = await createDriveFile(metadata, data);\r\n        return response;\r\n    }\r\n}\r\n\r\nexport interface PdfMakeConfiguration {\r\n    documentDefinition?: TDocumentDefinitions;\r\n    folderId: string;\r\n    fileName?: string;\r\n}\r\n\r\nexport interface TCreatedPdf {\r\n    download(cb?: () => void, options?: BufferOptions): void;\r\n    download(defaultFileName: string, cb?: () => void, options?: BufferOptions): void;\r\n\r\n    getBlob(cb: (result: Blob) => void, options?: BufferOptions): void;\r\n    getBase64(cb: (result: string) => void, options?: BufferOptions): void;\r\n    getBuffer(cb: (result: Buffer) => void, options?: BufferOptions): void;\r\n    getDataUrl(cb: (result: string) => void, options?: BufferOptions): void;\r\n    open(options?: BufferOptions, win?: Window | null): void;\r\n    print(options?: BufferOptions, win?: Window | null): void;\r\n}\r\n\r\nexport type PageSize = PredefinedPageSize | CustomPageSize;\r\n\r\nexport interface CustomPageSize {\r\n    width: number;\r\n    height: number | 'auto';\r\n}\r\n\r\nexport type PredefinedPageSize =\r\n    | '4A0'\r\n    | '2A0'\r\n    | 'A0'\r\n    | 'A1'\r\n    | 'A2'\r\n    | 'A3'\r\n    | 'A4'\r\n    | 'A5'\r\n    | 'A6'\r\n    | 'A7'\r\n    | 'A8'\r\n    | 'A9'\r\n    | 'A10'\r\n    | 'B0'\r\n    | 'B1'\r\n    | 'B2'\r\n    | 'B3'\r\n    | 'B4'\r\n    | 'B5'\r\n    | 'B6'\r\n    | 'B7'\r\n    | 'B8'\r\n    | 'B9'\r\n    | 'B10'\r\n    | 'C0'\r\n    | 'C1'\r\n    | 'C2'\r\n    | 'C3'\r\n    | 'C4'\r\n    | 'C5'\r\n    | 'C6'\r\n    | 'C7'\r\n    | 'C8'\r\n    | 'C9'\r\n    | 'C10'\r\n    | 'RA1'\r\n    | 'RA2'\r\n    | 'RA3'\r\n    | 'RA4'\r\n    | 'SRA1'\r\n    | 'SRA2'\r\n    | 'SRA3'\r\n    | 'SRA4'\r\n    | 'EXECUTIVE'\r\n    | 'FOLIO'\r\n    | 'LEGAL'\r\n    | 'LETTER'\r\n    | 'TABLOID';\r\n\r\nexport type PageOrientation = 'portrait' | 'landscape';\r\n\r\nexport type PageBreak = 'before' | 'after';\r\n\r\nexport type Size =\r\n    | number // absolute\r\n    | 'auto'\r\n    | '*'\r\n    | string; // percentage\r\n\r\nexport interface TDocumentInformation {\r\n    /** the title of the document */\r\n    title?: string;\r\n    /** the name of the author */\r\n    author?: string;\r\n    /** the subject of the document */\r\n    subject?: string;\r\n    /** keywords associated with the document */\r\n    keywords?: string;\r\n    creator?: string;\r\n    producer?: string;\r\n    creationDate?: Date;\r\n    modDate?: Date;\r\n    trapped?: string;\r\n}\r\n\r\nexport type DynamicContent = (\r\n    currentPage: number,\r\n    pageCount: number,\r\n    pageSize: ContextPageSize\r\n) => Content | null | undefined;\r\n\r\nexport type DynamicBackground = (\r\n    currentPage: number,\r\n    pageSize: ContextPageSize\r\n) => Content | null | undefined;\r\n\r\nexport type Margins = number | [number, number] | [number, number, number, number];\r\n\r\nexport type Decoration = 'underline' | 'lineThrough' | 'overline';\r\nexport type DecorationStyle = 'dashed' | 'dotted' | 'double' | 'wavy';\r\n\r\nexport type Alignment = 'left' | 'right' | 'justify' | 'center';\r\n\r\nexport type DynamicRowSize = (row: number) => number | 'auto';\r\n\r\nexport interface CustomTableLayout {\r\n    hLineWidth?: DynamicLayout<number>;\r\n    vLineWidth?: DynamicLayout<number>;\r\n    hLineColor?: string | DynamicLayout<string>;\r\n    vLineColor?: string | DynamicLayout<string>;\r\n    hLineStyle?: DynamicLayout<LineStyle>;\r\n    vLineStyle?: DynamicLayout<LineStyle>;\r\n    fillColor?: string | DynamicLayout<string>;\r\n    paddingLeft?: DynamicLayout<number>;\r\n    paddingRight?: DynamicLayout<number>;\r\n    paddingTop?: DynamicLayout<number>;\r\n    paddingBottom?: DynamicLayout<number>;\r\n    fillOpacity?: number | DynamicLayout<number>;\r\n    defaultBorder?: boolean;\r\n}\r\n\r\nexport type DynamicLayout<T> = (\r\n    rowIndex: number,\r\n    node: ContentTable,\r\n    columnIndex: number\r\n) => T | null | undefined;\r\n\r\nexport interface LineStyle {\r\n    dash?: {\r\n        length: number;\r\n        space?: number;\r\n    };\r\n}\r\n\r\nexport type TableCell =\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    | {} // Used when another cell spans over this cell\r\n    | (Content & {\r\n          rowSpan?: number;\r\n          colSpan?: number;\r\n          border?: [boolean, boolean, boolean, boolean];\r\n          borderColor?: [string, string, string, string];\r\n          fillOpacity?: number;\r\n      });\r\n\r\nexport interface Table {\r\n    body: TableCell[][];\r\n    widths?: '*' | 'auto' | Size[];\r\n    heights?: number | number[] | DynamicRowSize;\r\n    headerRows?: number;\r\n    dontBreakRows?: boolean;\r\n    keepWithHeaderRows?: number;\r\n    layout?: TableLayout;\r\n}\r\n\r\nexport type PredefinedTableLayout = 'noBorders' | 'headerLineOnly' | 'lightHorizontalLines';\r\nexport type TableLayout = string | PredefinedTableLayout | CustomTableLayout;\r\n\r\nexport interface Style {\r\n    /** name of the font */\r\n    font?: string;\r\n    /** size of the font in pt */\r\n    fontSize?: number;\r\n    /** the line height (default: 1) */\r\n    lineHeight?: number;\r\n    /** whether to use bold text (default: false) */\r\n    bold?: boolean;\r\n    /** whether to use italic text (default: false) */\r\n    italics?: boolean;\r\n    /** the alignment of the text */\r\n    alignment?: Alignment;\r\n    /** the color of the text (color name e.g., ‘blue’ or hexadecimal color e.g., ‘#ff5500’) */\r\n    color?: string;\r\n    /** the background color of the text */\r\n    background?: string;\r\n    /** the color of the bullets in a buletted list */\r\n    markerColor?: string;\r\n    /** the text decoration to applu (‘underline’ or ‘lineThrough’ or ‘overline’) */\r\n    decoration?: Decoration;\r\n    /** (‘dashed’ or ‘dotted’ or ‘double’ or ‘wavy’) */\r\n    decorationStyle?: DecorationStyle;\r\n    /** the color of the text decoration, see color */\r\n    decorationColor?: string;\r\n    margin?: Margins;\r\n    preserveLeadingSpaces?: boolean;\r\n    opacity?: number;\r\n    characterSpacing?: number;\r\n    leadingIndent?: number;\r\n    // Table-cell properties:\r\n    noWrap?: boolean;\r\n    /** the background color of a table cell */\r\n    fillColor?: string;\r\n    /** the background opacity of a table cell */\r\n    fillOpacity?: number;\r\n    /** optional space between columns */\r\n    columnGap?: Size;\r\n    // These properties appear in the documentation but don't do anything:\r\n    // tableCellPadding?: unknown;\r\n    // cellBorder?: unknown;\r\n    // headerCellBorder?: unknown;\r\n    // oddRowCellBorder?: unknown;\r\n    // evenRowCellBorder?: unknown;\r\n    // tableBorder?: unknown;\r\n}\r\n\r\nexport type Content =\r\n    | string\r\n    | ArrayOfContent\r\n    | ContentText\r\n    | ContentColumns\r\n    | ContentStack\r\n    | ContentUnorderedList\r\n    | ContentOrderedList\r\n    | ContentTable\r\n    | ContentAnchor\r\n    | ContentPageReference\r\n    | ContentTextReference\r\n    | ContentToc\r\n    | ContentTocItem\r\n    | ContentImage\r\n    | ContentSvg\r\n    | ContentQr\r\n    | ContentCanvas;\r\n\r\n// not exported, only used to prevent Content from circularly referencing itself\r\ntype ArrayOfContent = Array<Content>;\r\n\r\nexport interface ContentText extends ContentLink, ContentBase {\r\n    text: Content;\r\n}\r\n\r\nexport interface ContentColumns extends ContentBase {\r\n    columns: Column[];\r\n}\r\n\r\nexport interface ContentStack extends ContentBase {\r\n    stack: Content[];\r\n}\r\n\r\n/** for numbered lists set the ol key */\r\nexport interface ContentOrderedList extends ContentBase {\r\n    ol: OrderedListElement[];\r\n    type?: OrderedListType;\r\n    markerColor?: string;\r\n    separator?: string | [string, string];\r\n    reversed?: boolean;\r\n    start?: number;\r\n}\r\n\r\n/** to treat a paragraph as a bulleted list, set an array of items under the ul key */\r\nexport interface ContentUnorderedList extends ContentBase {\r\n    ul: UnorderedListElement[];\r\n    type?: UnorderedListType;\r\n    markerColor?: string;\r\n}\r\n\r\nexport interface ContentCanvas extends ContentBase {\r\n    canvas: CanvasElement[];\r\n}\r\n\r\nexport interface ContentSvg extends ContentBase {\r\n    svg: string;\r\n    width?: number;\r\n    height?: number;\r\n    fit?: [number, number];\r\n}\r\n\r\nexport interface ContentImage extends ContentLink, ContentBase {\r\n    image: string;\r\n    width?: number;\r\n    height?: number;\r\n    fit?: [number, number];\r\n}\r\n\r\nexport interface ContentTable extends ContentBase {\r\n    table: Table;\r\n    layout?: TableLayout;\r\n}\r\n\r\nexport interface ContentAnchor extends ContentBase {\r\n    text: string | ContentAnchor;\r\n    id: string;\r\n}\r\n\r\nexport interface ContentTocItem extends ContentBase {\r\n    text: string | ContentTocItem;\r\n    tocItem: boolean | string | string[];\r\n    tocStyle?: string | string[] | Style;\r\n    tocNumberStyle?: string | string[] | Style;\r\n    tocMargin?: Margins;\r\n}\r\n\r\nexport interface ContentPageReference extends ContentBase {\r\n    pageReference: string;\r\n}\r\n\r\nexport interface ContentTextReference extends ContentBase {\r\n    textReference: string;\r\n}\r\n\r\nexport interface ContentToc extends ContentBase {\r\n    toc: TableOfContent;\r\n}\r\n\r\nexport interface ContentQr extends ContentBase {\r\n    qr: string;\r\n    foreground?: string;\r\n    fit?: number;\r\n    version?: number;\r\n    eccLevel?: 'L' | 'M' | 'Q' | 'H';\r\n    mode?: 'numeric' | 'alphanumeric' | 'octet';\r\n    mask?: number;\r\n}\r\n\r\nexport interface ContentBase extends Style {\r\n    style?: string | string[] | Style;\r\n    absolutePosition?: { x: number; y: number };\r\n    relativePosition?: { x: number; y: number };\r\n    pageBreak?: PageBreak;\r\n    pageOrientation?: PageOrientation;\r\n    headlineLevel?: number;\r\n}\r\n\r\nexport interface ContentLink {\r\n    link?: string;\r\n    linkToPage?: number;\r\n    linkToDestination?: string;\r\n}\r\n\r\nexport interface TableOfContent {\r\n    title?: Content;\r\n    textMargin?: Margins;\r\n    textStyle?: string | string[] | Style;\r\n    numberStyle?: string | string[] | Style;\r\n    id?: string;\r\n}\r\n\r\nexport type Column = Content & {\r\n    width?: Size;\r\n};\r\n\r\nexport type OrderedListType =\r\n    | 'lower-alpha'\r\n    | 'upper-alpha'\r\n    | 'lower-roman'\r\n    | 'upper-roman'\r\n    | 'none';\r\nexport type OrderedListElement = Content & {\r\n    counter?: number;\r\n    listType?: OrderedListType;\r\n};\r\n\r\nexport type UnorderedListType = 'square' | 'circle' | 'none';\r\nexport type UnorderedListElement = Content & {\r\n    listType?: UnorderedListType;\r\n};\r\n\r\nexport type CanvasElement = CanvasRect | CanvasPolyline | CanvasLine | CanvasEllipse;\r\n\r\nexport interface CanvasRect extends CanvasLineElement, CanvasFilledElement {\r\n    type: 'rect';\r\n    x: number;\r\n    y: number;\r\n    w: number;\r\n    h: number;\r\n    r?: number;\r\n}\r\n\r\nexport interface CanvasPolyline extends CanvasLineElement, CanvasFilledElement {\r\n    type: 'polyline';\r\n    points: Array<{ x: number; y: number }>;\r\n    closePath?: boolean;\r\n    lineCap?: 'round' | 'square';\r\n}\r\n\r\nexport interface CanvasLine extends CanvasLineElement {\r\n    type: 'line';\r\n    x1: number;\r\n    y1: number;\r\n    x2: number;\r\n    y2: number;\r\n    lineCap?: 'round' | 'square';\r\n}\r\n\r\nexport interface CanvasEllipse extends CanvasLineElement, CanvasFilledElement {\r\n    type: 'ellipse';\r\n    x: number;\r\n    y: number;\r\n    r1: number;\r\n    r2?: number;\r\n}\r\n\r\nexport interface CanvasFilledElement {\r\n    color?: string;\r\n    fillOpacity?: number;\r\n    linearGradient?: string[];\r\n}\r\n\r\nexport interface CanvasLineElement {\r\n    lineWidth?: number;\r\n    lineColor?: string;\r\n    dash?: {\r\n        length: number;\r\n        space?: number;\r\n    };\r\n}\r\n\r\nexport interface StyleDictionary {\r\n    [name: string]: Style;\r\n}\r\n\r\nexport type PDFVersion = '1.3' | '1.4' | '1.5' | '1.6' | '1.7' | '1.7ext3';\r\n\r\nexport interface Watermark {\r\n    /** watermark text */\r\n    text: string;\r\n    /** opacity of text */\r\n    opacity?: number;\r\n    /** angle of text rotation (minimal version: 0.1.60) */\r\n    angle?: number;\r\n    font?: string;\r\n    /** own font size of text (ideal size is calculated automatically) (minimal version: 0.1.60) */\r\n    fontSize?: number;\r\n    /** color of text */\r\n    color?: string;\r\n    /** bold style of text */\r\n    bold?: boolean;\r\n    /** italics style of text */\r\n    italics?: boolean;\r\n}\r\n\r\nexport interface TDocumentDefinitions {\r\n    content: Content;\r\n    background?: DynamicBackground | Content;\r\n    compress?: boolean;\r\n    defaultStyle?: Style;\r\n    footer?: DynamicContent | Content;\r\n    header?: DynamicContent | Content;\r\n    images?: { [key: string]: string };\r\n    info?: TDocumentInformation;\r\n    pageBreakBefore?: (\r\n        currentNode: Node,\r\n        followingNodesOnPage: Node[],\r\n        nodesOnNextPage: Node[],\r\n        previousNodesOnPage: Node[]\r\n    ) => boolean;\r\n    pageMargins?: Margins;\r\n    pageOrientation?: PageOrientation;\r\n    pageSize?: PageSize;\r\n    styles?: StyleDictionary;\r\n    userPassword?: string;\r\n    ownerPassword?: string;\r\n    version?: PDFVersion;\r\n    watermark?: string | Watermark;\r\n}\r\n\r\nexport interface Node {\r\n    text?: Content;\r\n    ul?: UnorderedListElement[];\r\n    ol?: OrderedListElement[];\r\n    table?: Table;\r\n    image?: string;\r\n    qr?: string;\r\n    canvas?: CanvasElement;\r\n    svg?: string;\r\n    columns?: Column[];\r\n    id?: string;\r\n    headlineLevel?: number;\r\n    style?: string | string[] | Style;\r\n    pageBreak?: PageBreak;\r\n    pageOrientation?: PageOrientation;\r\n    pageNumbers: number[];\r\n    pages: number;\r\n    stack: boolean;\r\n    startPosition: {\r\n        pageNumber: number;\r\n        pageOrientation: PageOrientation;\r\n        pageInnerHeight: number;\r\n        pageInnerWidth: number;\r\n        left: number;\r\n        top: number;\r\n        verticalRatio: number;\r\n        horizontalRatio: number;\r\n    };\r\n}\r\n\r\nexport interface ContextPageSize {\r\n    height: number;\r\n    width: number;\r\n    orientation: PageOrientation;\r\n}\r\n\r\nexport interface BufferOptions {\r\n    fontLayoutCache?: boolean;\r\n    bufferPages?: boolean;\r\n    tableLayouts?: { [key: string]: CustomTableLayout };\r\n    autoPrint?: boolean;\r\n    progressCallback?: (progress: number) => void;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-wrapper\"},[_c('v-spacer'),_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({},on),[_c('app-tile',{attrs:{\"bottomLine\":false,\"active\":false,\"icon\":\"mdi-flower\"},on:{\"click\":_vm.prettifyDoc}})],1)]}}])},[_c('span',[_vm._v(\"Prettify\")])]),_c('v-spacer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport AppTile from '@/components/layout/Tile.vue';\r\n\r\nexport default Vue.extend({\r\n    components: {\r\n        AppTile,\r\n    },\r\n    methods: {\r\n        prettifyDoc(): void {\r\n            this.$store.dispatch('pdf/prettifyDoc');\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToolBar.vue?vue&type=template&id=1aa1151a&scoped=true&\"\nimport script from \"./ToolBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToolBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ToolBar.vue?vue&type=style&index=0&id=1aa1151a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1aa1151a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pdf.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pdf.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pdf.vue?vue&type=template&id=374bd644&scoped=true&\"\nimport script from \"./Pdf.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pdf.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Pdf.vue?vue&type=style&index=0&id=374bd644&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"374bd644\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=style&index=0&id=1aa1151a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=style&index=0&id=1aa1151a&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pdf.vue?vue&type=style&index=0&id=374bd644&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pdf.vue?vue&type=style&index=0&id=374bd644&scoped=true&lang=scss&\""],"sourceRoot":""}